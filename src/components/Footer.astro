---
const today = new Date();

// Navigation Links
const footerLinks = {
  product: [
    { text: "Fonctionnalités", href: "/features" },
    { text: "Tarifs", href: "/pricing" },
    { text: "FAQ", href: "/faq" },
  ],
  company: [
    { text: "À propos", href: "/about" },
    { text: "Blog", href: "/blog" },
    { text: "Carrières", href: "/careers" },
  ],
  legal: [
    { text: "Confidentialité", href: "/privacy" },
    { text: "Conditions", href: "/terms" },
    { text: "Cookies", href: "/cookies" },
  ],
};

// Social Media Links
const socialLinks = [
  { icon: "facebook", href: "#", label: "Facebook" },
  { icon: "twitter", href: "#", label: "Twitter" },
  { icon: "linkedin", href: "#", label: "LinkedIn" },
  { icon: "github", href: "#", label: "GitHub" },
];
---

<footer class="mdl-mega-footer">
  <div class="mdl-mega-footer__middle-section">
    <!-- Logo et description -->
    <div class="mdl-mega-footer__drop-down-section">
      <h1 class="mdl-mega-footer__heading">Notre entreprise</h1>
      <div class="footer-brand">
        <img src="/logo.svg" alt="Logo" class="footer-logo" />
        <p class="mdl-mega-footer__link-list description">
          Créons ensemble des expériences web exceptionnelles avec Material
          Design Lite et Astro.
        </p>
      </div>
    </div>

    <!-- Produit -->
    <div class="mdl-mega-footer__drop-down-section">
      <input
        class="mdl-mega-footer__heading-checkbox"
        type="checkbox"
        checked
      />
      <h1 class="mdl-mega-footer__heading">Produit</h1>
      <ul class="mdl-mega-footer__link-list">
        {
          footerLinks.product.map((link) => (
            <li>
              <a href={link.href}>{link.text}</a>
            </li>
          ))
        }
      </ul>
    </div>

    <!-- Entreprise -->
    <div class="mdl-mega-footer__drop-down-section">
      <input
        class="mdl-mega-footer__heading-checkbox"
        type="checkbox"
        checked
      />
      <h1 class="mdl-mega-footer__heading">Entreprise</h1>
      <ul class="mdl-mega-footer__link-list">
        {
          footerLinks.company.map((link) => (
            <li>
              <a href={link.href}>{link.text}</a>
            </li>
          ))
        }
      </ul>
    </div>

    <!-- Légal -->
    <div class="mdl-mega-footer__drop-down-section">
      <input
        class="mdl-mega-footer__heading-checkbox"
        type="checkbox"
        checked
      />
      <h1 class="mdl-mega-footer__heading">Légal</h1>
      <ul class="mdl-mega-footer__link-list">
        {
          footerLinks.legal.map((link) => (
            <li>
              <a href={link.href}>{link.text}</a>
            </li>
          ))
        }
      </ul>
    </div>
  </div>

  <!-- Newsletter -->
  <div class="newsletter-section">
    <h3 class="mdl-mega-footer__heading">Restez informé</h3>
    <form class="newsletter-form">
      <div class="mdl-textfield mdl-js-textfield">
        <input
          class="mdl-textfield__input"
          type="email"
          id="newsletter-email"
          placeholder="Votre email"
        />
      </div>
      <button
        class="mdl-button mdl-js-button mdl-button--raised mdl-button--accent mdl-js-ripple-effect"
      >
        S'abonner
      </button>
    </form>
  </div>

  <!-- Bottom Section -->
  <div class="mdl-mega-footer__bottom-section">
    <div class="footer-bottom-content">
      <div class="copyright">
        &copy; {today.getFullYear()} Votre Entreprise. Tous droits réservés.
      </div>
      <div class="social-links">
        {
          socialLinks.map((social) => (
            <a
              href={social.href}
              target="_blank"
              rel="noopener"
              class="mdl-button mdl-js-button mdl-button--icon"
              aria-label={social.label}
            >
              <i class="material-icons">{social.icon}</i>
            </a>
          ))
        }
      </div>
    </div>
  </div>
</footer>

<style>
  .mdl-mega-footer {
    background-color: #263238;
    padding: 64px 40px 32px;
    position: relative;
    flex-shrink: 0;
    width: 100%;
  }

  .footer-brand {
    max-width: 300px;
  }

  .footer-logo {
    height: 40px;
    margin-bottom: 16px;
  }

  .description {
    color: rgba(255, 255, 255, 0.7);
    line-height: 1.5;
    margin-bottom: 24px;
  }

  .newsletter-section {
    padding: 48px 0;
    text-align: center;
    border-top: 1px solid rgba(255, 255, 255, 0.12);
    border-bottom: 1px solid rgba(255, 255, 255, 0.12);
    margin: 32px 0;
  }

  .newsletter-form {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 16px;
    max-width: 500px;
    margin: 24px auto 0;
  }

  .mdl-textfield {
    width: 100%;
  }

  .mdl-textfield__input {
    color: white;
    border-bottom-color: rgba(255, 255, 255, 0.12);
  }

  .mdl-textfield__input::placeholder {
    color: rgba(255, 255, 255, 0.5);
  }

  .footer-bottom-content {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 16px;
  }

  .social-links {
    display: flex;
    gap: 8px;
  }

  .social-links .mdl-button {
    color: rgba(255, 255, 255, 0.7);
  }

  .social-links .mdl-button:hover {
    color: white;
  }

  @media (max-width: 840px) {
    .mdl-mega-footer {
      padding: 48px 24px 24px;
      margin-top: auto;
    }

    .newsletter-form {
      flex-direction: column;
      padding: 0 24px;
    }

    .footer-bottom-content {
      flex-direction: column;
      text-align: center;
    }

    .mdl-mega-footer__middle-section {
      flex-direction: column;
    }

    .mdl-mega-footer__drop-down-section {
      width: 100%;
      margin-bottom: 32px;
    }
  }

  /* Animation au survol des liens */
  .mdl-mega-footer__link-list a {
    position: relative;
    transition: color 0.3s ease;
  }

  .mdl-mega-footer__link-list a::after {
    content: "";
    position: absolute;
    width: 100%;
    height: 1px;
    bottom: -2px;
    left: 0;
    background-color: var(--accent-color);
    transform: scaleX(0);
    transform-origin: right;
    transition: transform 0.3s ease;
  }

  .mdl-mega-footer__link-list a:hover::after {
    transform: scaleX(1);
    transform-origin: left;
  }
</style>
