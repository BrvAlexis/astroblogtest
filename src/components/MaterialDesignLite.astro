---
const MDL_VERSION = "1.3.0";
---

<!-- Material Design Lite CSS -->
<link
  rel="stylesheet"
  href={`https://code.getmdl.io/${MDL_VERSION}/material.indigo-pink.min.css`}
/>

<!-- Material Icons -->
<link
  rel="stylesheet"
  href="https://fonts.googleapis.com/icon?family=Material+Icons"
/>

<!-- Material Design Lite JavaScript -->
<script
  is:inline
  defer
  src={`https://code.getmdl.io/${MDL_VERSION}/material.min.js`}></script>

<!-- Initialisation MDL -->
<script is:inline>
  // Fonction pour initialiser MDL
  function initMDL() {
    if (typeof window.componentHandler !== "undefined") {
      window.componentHandler.upgradeAllRegistered();
    }
  }

  // Initialisation au chargement initial
  document.addEventListener("DOMContentLoaded", initMDL);

  // Réinitialisation après navigation Astro
  document.addEventListener("astro:page-load", initMDL);

  // Nettoyage avant navigation
  document.addEventListener("astro:before-swap", () => {
    if (typeof window.componentHandler !== "undefined") {
      window.componentHandler.downgradeAllRegistered();
    }
  });
</script>
